.ORIG x3000
LD R1,BOUND
LD R6,SUBROUTINE2
LDR R2,R1,#0
LDR R3,R1,#1
MAINLOOP JSR DIVIDE
JSRR R6
ADD R4,R4,#0
BRZ FINISH
BRN NEGATIVE3
ADD R5,R0,#0
ADD R0,R2,#0
JSRR R6
ADD R4,R4,#0
BRP POSITIVE
ADD R3,R5,#0
BR MAINLOOP
POSITIVE ADD R2,R5,#0
BR MAINLOOP
NEGATIVE3 ADD R5,R0,#0
ADD R0,R2,#0
JSRR R6
ADD R4,R4,#0
BRP POSITIVE2
ADD R2,R5,#0
BR MAINLOOP
POSITIVE2 ADD R3,R5,#0
BR MAINLOOP
FINISH STR R0,R1,#-1
TRAP x25
DIVIDE ADD R5,R2,R3
BRN NEGATIVE2 
BRZ ZERO2
AND R0,R0,#0
LOOP3 ADD R0,R0,#1
ADD R5,R5,#-2 
BRP LOOP3
DONE RET
NEGATIVE2 NOT R5,R5
ADD R5,R5,#1
AND R0,R0,#0
LOOP4 ADD R0,R0,#1
ADD R5,R5,#-2
BRP LOOP4
NOT R0,R0
ADD R0,R0,#1
BR DONE
ZERO2 AND R0,R0,#0
BR DONE
BOUND .FILL x4001
SUBROUTINE2 .FILL x5000
.END