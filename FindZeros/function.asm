.ORIG x5000
AND R4,R4,#0
ST R7,SAVER7
ST R1,SAVER1
ST R2,SAVER2
ST R3,SAVER3
ST R5,SAVER5
ST R6,SAVER6
AND R6,R6,#0
LD R2,DEGREE
LDR R1,R2,#0
LDR R3,R2,#1
SUBLOOP ADD R2,R2,#1
JSR MULTIPLY
LDR R5,R2,#1
ADD R3,R3,R5
ADD R1,R1,#-1
BRp SUBLOOP
ADD R4,R3,#0
LD R7,SAVER7
LD R1,SAVER1
LD R2,SAVER2
LD R3,SAVER3
LD R5,SAVER5
LD R6,SAVER6
BR DONE2
MULTIPLY ADD R3,R3,#0
BRN NEGATIVE
BRZ DONE
ADD R6,R6,R0
ADD R3,R3,#-1
BRZ DONE
LOOP ADD R6,R6,R0
ADD R3,R3,#-1
BRP LOOP
BRZ DONE
NEGATIVE NOT R3,R3
ADD R3,R3,1
LOOP2 ADD R6,R6,R0
ADD R3,R3,#-1
BRP LOOP2
NOT R6,R6
ADD R6,R6,#1
DONE ADD R3,R6,#0
AND R6,R6,#0
DONE2 RET
DEGREE .FILL x4003
SAVER1 .BLKW 1
SAVER2 .BLKW 1
SAVER3 .BLKW 1
SAVER5 .BLKW 1
SAVER6 .BLKW 1
SAVER7 .BLKW 1
.END
